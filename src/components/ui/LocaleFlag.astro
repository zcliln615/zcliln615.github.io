---
// 根据locale显示对应国旗的通用组件
import FlagChina from './FlagChina.astro';

export interface Props {
  locale: string;
  class?: string;
  size?: 'sm' | 'md' | 'lg';
}

const { locale, class: className = '', size = 'md' } = Astro.props;

// 根据locale映射到对应的国旗组件
const getFlagComponent = (locale: string) => {
  switch (locale) {
    case 'zh-CN':
    case 'zh-TW':
    case 'zh-HK':
    case 'zh':
      return 'china';
    case 'en-US':
    case 'en-GB':
    case 'en':
      return 'usa'; // 可以后续添加美国国旗
    case 'ja':
    case 'ja-JP':
      return 'japan'; // 可以后续添加日本国旗
    case 'ro':
    case 'ro-RO':
      return 'romania'; // 可以后续添加罗马尼亚国旗
    default:
      return 'china'; // 默认显示中国国旗
  }
};

const flagType = getFlagComponent(locale);
---

{flagType === 'china' && <FlagChina class={className} size={size} />}
{/* 
  后续可以添加其他国旗组件：
  {flagType === 'usa' && <FlagUSA class={className} size={size} />}
  {flagType === 'japan' && <FlagJapan class={className} size={size} />}
  {flagType === 'romania' && <FlagRomania class={className} size={size} />}
*/}
